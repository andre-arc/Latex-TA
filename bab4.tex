%-------------------------------------------------------------------------------
%                            BAB IV
%               		HASIL DAN PEMBAHASAN
%-------------------------------------------------------------------------------

\chapter{HASIL DAN PEMBAHASAN}
	\section{Analisis Kebutuhan}
	
	Hasil dari analisis kebutuhan yang telah dilakukan adalah mendapatkan persona, storyboard dan use case diagram untuk masing-masing pengguna.
	
	\subsection{Kelompok Pengguna}
	Kelompok pengguna dari aplikasi ini telah dapat diidentifikasikan pada tahap analisis kebutuhan pada sistem. terdapat 2 kelompok pengguna yang menggunakan aplikasi ini:
		 \begin{enumerate}[1.]
		 	\item Agen
		 		\newline Pengguna yang menggunakan aplikasi berbasis web untuk mengelola rencana penerimaan pasokan tabung ke pangkalan, melakukan rekapitulasi data penyaluran tabung pada pangkalan.
		 	\item Pangkalan
		 		\newline Pengguna yang menggunakan aplikasi berbasis android untuk melakukan pencatatan penjualan tabung per hari, mendaftarkan pelanggan baru, melakukan verifikasi pada penerimaan pasokan tabung.
		 \end{enumerate}
	 
	 Persona untuk masing-masing kelompok pengguna dapat dilihat pada lampiran 1
	
	\subsection{Storyboard}
	Dengan menggunakan \textit{Storyboard} kita dapat memetakan secara visual kegiatan pengguna sebelum dan sesudah menggunakan aplikasi. Berdasarkan hasil pengamatan dan analisis kebutuhan dapat digambarkan \textit{Storyboard} seperti berikut:
	
	\vspace{-0.4cm}
	\begin{figure}[H]
		\center
		\includegraphics [width = 14cm]{gambar/storyboard/storyboard-1-(old)}
		\caption{Kegiatan Sebelum Menggunakan Aplikasi}
		\label{storyboardOld1}
	\end{figure}
	
	\begin{figure}[H]
		\center
		\includegraphics [width = 14cm]{gambar/storyboard/storyboard-1-(new)}
		\caption{Kegiatan Sesudah Menggunakan Aplikasi}
		\label{storyboardNew1}
	\end{figure}
	
	
	
	\subsection{\textit{Value Proposition Canvas }(VPC)}
	Dengan Menggunakan \textit{Value Proposition Canvas} (VPC) ini, kita dapat menguji apakah desain aplikasi dan fitur-fiturnya telah memenuhi kebutuhan dari pengguna aplikasi. Dari hasil pengamatan yang telah dilakukan maka dapat digambarkan VPC sebagai berikut:
	
		\vspace{-0.4cm}
	\begin{figure}[H]
		\center
		\includegraphics [width = 14cm]{gambar/model/VPC-Gas}
		\caption{Kegiatan Sebelum Menggunakan Aplikasi}
		\label{vpc}
	\end{figure}

	
	\subsection{\textit{Use Case}}
	\textit{Use-Case Diagram} digunakan untuk memetakan fungsionalitas aplikasi pada masing-masing pengguna. Dari hasil pengamatan dapat digambarkan \textit{Use-Case Diagram} sebagai berikut:
	
	\vspace{-0.4cm}
	\begin{figure}[H]
		\center
		\includegraphics [width = 14cm]{gambar/model/use-case-diagram}
		\caption{Use-Case Diagram}
		\label{usecase}
	\end{figure}
	
	\section{Desain dan Pembuatan Sistem}
	
	\subsection{Desain Sistem}
	\par Desain Sistem adalah proses desain pada aplikasi yang akan dibangun. proses dilakukan berdasarkan proses analisis kebutuhan aplikasi yang telah dilakukan pada proses sebelumnya. proses ini terdiri dari beberapa tahap yaitu seperti perancangan \textit{deployment diagram},
	perancangan arsitektur aplikasi dalam bentuk \textit{component diagram}, perancangan struktur basis data dalam bentuk \textit{class diagram}, dan juga perancangan tampilan antar muka dari aplikasi yang akan dibangun.
	
	\par tahap pertama adalah merancang \textit{deployment diagram}, dimana \textit{deployment diagram} adalah diagram yang menjelaskan bagaimana sistem aplikasi akan bekerja dan digunakan oleh pengguna. aplikasi yang dibangun terdiri dari 2 platform yang berbeda dimana pengguna pangkalan akan menggunakan platform android untuk melakukan pencatatan penjualan tabung, dan lain-lain, sedangkan pengguna agen akan menggunakan platform \textit{web-based} untuk rekapitulasi laporan penyaluran. Berikut rancangan \textit{deployment diagram} yang telah dibuat:
	
		\vspace{-0.4cm}
	\begin{figure}[H]
		\center
		\includegraphics [width = 14cm]{gambar/model/deployment}
		\caption{Diagram Deployment}
		\label{deployment}
	\end{figure}

	\par tahap selanjutnya adalah merancang \textit{component diagram}, dimana \textit{component diagram} adalah diagram yang menjelaskan arsitektur sistem aplikasi yang akan dibangun secara keseluruhan. Berikut rancangan \textit{component diagram} yang telah dibuat:
	
	\vspace{-0.4cm}
	\begin{figure}[H]
		\center
		\includegraphics [width = 14cm]{gambar/model/component}
		\caption{Diagram Component}
		\label{component}
	\end{figure}

	\pagebreak
	\par Dilanjutkan dengan tahap perancangan model basis data menggunakan \textit{class diagram}. diagram ini dibuat berdasarkan fungsionalitas dari sistem yang akan dibangun. Berikut rancangan \textit{class diagram} yang telah dibuat:
	
		\vspace{-0.4cm}
	\begin{figure}[H]
		\center
		\includegraphics [width = 14cm]{gambar/model/class-diagram}
		\caption{Diagram Kelas Model Basis Data }
		\label{class}
	\end{figure}

	\par Selanjutnya adalah perancangan layanan web, perancangan layanan web disini memiliki peran yang sangat penting dan vital, dimana layanan web harus dapat menangani setiap proses transaksi data yang dilakukan oleh sistem. layanan web ini menggunakan RESTful API untuk dapat berinteraksi dengan \textit{platform} android dan aplikasi lain melalui HTTP URL.
	
	\par Untuk perancangan antar muka dari aplikasi ini menggunakan ionic framework karena menyediakan komponen-komponen antar muka pengguna seperti \textit{tabs, card, dan button} yang cocok untuk digunakan pada platform \textit{mobile}.
	
	\par Tampilan Aplikasi berbasis android untuk pangkalan gas LPG 3Kg ini terdiri 3 halaman utama yaitu halaman register pelanggan baru, halaman pembelian tabung, dan halaman penerimaan tabung. Pertama-tama untuk masuk ke dalam aplikasi, pangkalan harus melakukan \textit{login} menggunakan no HP yang telah terdaftar seperti pada gambar \ref{tampilanLoginPangkalan}. setelah itu akan muncul sms no HP tersebut berisi sebuah kode OTP(\textit{One Time Password}) yang digunakan untuk verifikasi no HP valid atau tidak. setelah proses \textit{login} berhasil maka dilanjut ke halaman beranda yang berisi menu utama aplikasi seperti pada Gambar \ref{tampilanBerandaPangkalan}.
	\par Pada halaman registrasi pelanggan baru terdapat \textit{form} mengenai data pelanggan setelah itu dilanjutkan pengambilan foto ktp dan foto diri pelanggan seperti pada Gambar \ref{tampilanRegisterPangkalan}. Pada saat pembelian tabung, pangkalan harus mencari pelanggan terlebih dahulu menggunakan NIK (Nomor Induk Kependudukan) seperti pada Gambar \ref{tampilanPembelianPangkalan} setelah itu maka akan muncul halaman detail pelanggan berisi detail data pelanggan tersebut. pada halaman ini terdapat 2 tombol aksi yaitu riwayat pembelian dan beli tabung seperti pada Gambar \ref{tampilanPembelianPangkalan}. setelah pangkalan memilih beli tabung selanjutnya pangkalan harus memilih jumlah tabung yang dibeli dan dilanjutkan pengambilan foto pembeli sebagai bukti pembelian seperti pada Gambar \ref{tampilanPembelianPangkalan}. Pada saat penerimaan pasokan tabung, pangkalan harus melakukan verifikasi penerimaan tabung pada menu penerimaan tabung seperti pada Gambar \ref{tampilanPenerimaanPangkalan}.
	
	\vspace{-0.2cm}
	\begin{figure}[H]
		\center
		\includegraphics [width = 7cm]{gambar/android/login}
		\vspace{1cm}
		\includegraphics [width = 7cm]{gambar/android/verify}
		\caption{Tampilan Login aplikasi}
		\label{tampilanLoginPangkalan}
	\end{figure}
	
	\begin{figure}[H]
		\center
		\includegraphics [width = 7cm]{gambar/android/beranda}
		\caption{Tampilan Halaman Beranda}
		\label{tampilanBerandaPangkalan}
	\end{figure}

	\begin{figure}[H]
		\center
		\includegraphics [width = 6cm]{gambar/android/register}
		\caption{Tampilan Halaman Register Pelanggan}
		\label{tampilanRegisterPangkalan}
	\end{figure}

	\begin{figure}[H]
		\center
		\includegraphics [width = 6cm]{gambar/android/penerimaan}
		\caption{Tampilan Halaman Penerimaan Pasokan Tabung}
		\label{tampilanPenerimaanPangkalan}
	\end{figure}

	\begin{figure}[H]
		\center
		\includegraphics [width = 6cm]{gambar/android/cari-pelanggan}
		\vspace{1cm}
		\hspace{1cm}
		\includegraphics [width = 6cm]{gambar/android/detail-pelanggan}
		\includegraphics [width = 6cm]{gambar/android/pilih-tabung}
		\hspace{1cm}
		\includegraphics [width = 6cm]{gambar/android/bukti-pembelian}
		\caption{Tampilan Halaman Pembelian Tabung}
		\label{tampilanPembelianPangkalan}
	\end{figure}

	\par Tampilan Aplikasi berbasis web untuk agen gas LPG 3Kg ini terdiri dari 5 halaman utama yaitu halaman beranda, halaman pangkalan, halaman rencana pasokan tabung, halaman pembeli, dan halaman untuk melakukan ekspor laporan penyaluran.
	\par Sebelumnya masuk ke dalam aplikasi ini, agen harus melakukan login menggunakan email khususnya email google seperti pada Gambar \ref{tampilanLoginAgen}. Setelah berhasil melakukan login maka akan ditujukan ke halaman beranda, pada halaman ini terdapat status jumlah pangkalan, jumlah penjualan rata-rata bulan ini dan tahun ini seperti pada \ref{tampilanBerandaAgen}.
	\par Halaman pangkalan berfungsi untuk menampilkan daftar pangkalan pada agen tersebut, disini agen dapat melakukan penambahan dengan menekan tombol "tambah pangkalan"dan perubahan pada data pangkalan dengan menekan tombol "profil" seperti pada Gambar \ref{tampilanDaftarPangkalanAgen}. Pada halaman ini juga memiliki aksi untuk membuat rencana pasokan tabung untuk pangkalan dengan menekan tombol "rencana pasokan" yang akan ditujukan ke halaman daftar rencana pasokan tabung untuk pangkalan tersebut seperti pada Gambar \ref{tampilanPenerimaanAgen}. Halaman rencana pasokan ini berfungsi untuk menginput data rencana pasokan untuk bulan depan. Data-data ini nantinya harus di verifikasi oleh pangkalan via aplikasi berbasis android sehingga datanya akan tersinkronisasi.
	\par Halaman laporan berfungsi untuk melakukan ekspor laporan penyaluran ke dalam bentuk PDF seperti pada Gambar \ref{tampilanLaporanAgen}.
	
	\begin{figure}[H]
		\center
		\includegraphics [width = 9cm]{gambar/web/login}
		\caption{Tampilan Halaman Login untuk Agen Gas LPG 3Kg}
		\label{tampilanLoginAgen}
	\end{figure}
	
	\begin{figure}[H]
		\center
		\includegraphics [width = 9cm]{gambar/web/beranda}
		\caption{Tampilan Halaman Beranda untuk Agen Gas LPG 3Kg}
		\label{tampilanBerandaAgen}
	\end{figure}

	\begin{figure}[H]
		\center
		\includegraphics [width = 9cm]{gambar/web/pangkalan}
		\caption{Tampilan Halaman Daftar Pangkalan }
		\label{tampilanDaftarPangkalanAgen}
	\end{figure}

	\begin{figure}[H]
		\center
		\includegraphics [width = 9cm]{gambar/web/penerimaan}
		\caption{Tampilan Halaman Rencana Penerimaan Pasokan Tabung}
		\label{tampilanPenerimaanAgen}
	\end{figure}

	\begin{figure}[H]
		\center
		\includegraphics [width = 9cm]{gambar/web/Laporan}
		\caption{Tampilan Halaman Ekspor Laporan}
		\label{tampilanLaporanAgen}
	\end{figure}
	
	
	
	\subsection{Pembuatan Sistem}
	
	\begin{enumerate}[a.]
		\item Layanan Web
		\\ Layanan web dikembangkan menggunakan bahasa pemrograman java dengan memanfaatkan pustaka Google Endpoints API untuk membangun sebuah layanan web yang memiliki prinsip RESTful API. dan juga menggunakan Google Datastore sebagai media penyimpanan basis data. Google Datastore merupakan layanan basis data NoSQL yang dibuat untuk penskalaan otomatis, kinerja tinggi, dan kemudahan dalam pengembangan aplikasi. Dikarenakan kita menggunakan Google Datastore sebagai Layanan penyimpanan basis data, kita akan menggunakan salah satu pustaka Java yang dimilikinya yaitu Objectify. Pada pembuatan layanan web (\textit{webservice}) hanya membutuhkan \textit{Model} Basis Data, \textit{Controller}, dan API. Pada pembuatan \textit{Model} basis data, desain basis datanya akan mengikuti dari desain \textit{class diagram} yang dibuat sebelumnya. tahap pembuatan layanan web yang pertama adalah membuat kelas \textit{Model} untuk masing-masing entitas seperti pada Gambar \ref{modelWebservice}. Setelah itu membuat kelas \textit{controller} yang akan menangani setiap operasi untuk memanipulasi data didalam \textit{Model} seperti pada Gambar \ref{controllerWebservice}. Tahap selanjutnya adalah membuat kelas API yang akan menangani pemanggilan setiap \textit{endpoint} yang layanan web seperti pada Gambar \ref{apiWebservice}. Setelah semua komponen telah selesai, maka akan dilakukan pengujian terhadap layanan web untuk mengetahui apakah setiap endpoint berjalan dengan seharusnya seperti pada Gambar \ref{pengujianApi}.
		
			\lstset{language=Java,
			basicstyle=\ttfamily\scriptsize\color{black},
			keywordstyle=\color{javapurple}\bfseries,
			stringstyle=\color{javared},
			commentstyle=\color{javagreen},
			morecomment=[s][\color{javadocblue}]{/**}{*/},
			numbers=left,
			numberstyle=\tiny\color{black},
			showstringspaces=false,
			numbersep=10pt,
			tabsize=4,
			showspaces=false,
			showstringspaces=false,
			autogobble=true,
			xleftmargin=2em
		}
	
		\begin{lstlisting}[caption=Potongan kode \textit{model} basis data layanan web, label=modelWebservice]
		@Entity
		public class Penerimaan {
		public Penerimaan(Date tanggal, Integer jmlTabung, Ref<Laporan> laporan, Ref<Pangkalan> pangkalan, Boolean statusVerifikasi) {
		setTanggal(tanggal);
		setJmlTabung(jmlTabung);
		setLaporan(laporan);
		setPangkalan(pangkalan);
		setStatusVerifikasi(statusVerifikasi);
		}
		.......................................................................
		@SuppressWarnings("unused")
		private Penerimaan(){}
		.......................................................................
		/**
		* kembalikan key dari pengguna.
		* @return key dari laporan atau null jika entitas belum tersimpan
		*/
		public Key<Penerimaan> getKey() {
		if(this.id == null)
		return null;
		
		return Key.create(Penerimaan.class, this.id);
		}
		......................................................................
		@Id 
		private Long id;
		public Long getId() {
		return id;
		}
		......................................................................
		@Index
		private Date tanggal;
		public Date getTanggal() {
		return tanggal;
		}
		public void setTanggal(Date tanggal) {
		if(tanggal == null)
		throw new NullPointerException("Tanggal tidak boleh Null");
		
		this.tanggal = tanggal;
		}
		......................................................................
		private Integer jmlTabung;
		public Integer getJmlTabung() {
		return jmlTabung;
		}
		public void setJmlTabung(Integer jmlTabung) {
		if(jmlTabung == null)
		throw new NullPointerException("Jml Tabung tidak boleh Null");
		
		if(jmlTabung < 0)
		throw new NullPointerException("Jml Tabung tidak boleh Minus");
		
		this.jmlTabung = jmlTabung;
		}
		
		\end{lstlisting}	
		
		
		\begin{lstlisting}[caption=Potongan kode \textit{controller} layanan web, label=controllerWebservice]
		public class PenerimaanAtur {
			/**
			* Tambah {@link Penerimaan} baru.
			* 
			* @param tanggal Tanggal {@link Penerimaan} baru.
			* @param jmlTabung Jumlah Tabung dari {@link Penerimaan} baru.
			* @param idPangkalan dari {@link Penerimaan} baru.
			* @param idPelanggan Id Pelanggan dari {@link Penerimaan} baru.
			*  
			* @throws TidakDitemukanException 
			* @throws StokTidakCukupException 
			*/
			
			public Penerimaan baru(Date tanggal, Integer jmlTabung, Long idPangkalan) throws EntitasDuplikasiException, TidakDitemukanException, StokTidakCukupException {
			Pangkalan pangkalan;
			
			
			// Pastikan id pelanggan ada di entity penerimaan
			try {
			pangkalan = new PangkalanAtur().cari(idPangkalan);
			} catch (TidakDitemukanException e) {
			throw new TidakDitemukanException("Tidak ditemukan Pangkalan dengan id: '"+idPangkalan+"'");
			}
			
			// Pastikan penerimaan tidak memiliki tanggal dan pangkalan yang sama
			try {
			new PenerimaanAtur().cariTanggalPangkalan(tanggal, pangkalan);
			throw new EntitasDuplikasiException("telah ada penjualan dengan tanggal :"+tanggal+"dan pangkalan : "+pangkalan.getNamaPangkalan());
			} catch (TidakDitemukanException e) {}
			
			
			Ref<Pangkalan> refPangkalan = Ref.create(pangkalan);
			
			//tambah penerimaan dengan refLaporan null
			Penerimaan penerimaan = new Penerimaan(tanggal, jmlTabung, null, refPangkalan, false);
			ofy().save().entity(penerimaan).now();
			
			
			return penerimaan;
			}
			
			/**
			* Cari {@link Penerimaan} dengan memakai key-nya.
			* 
			* @param key ID dari {@link Penerimaan} yang hendak dicari.
			* 
			* @return {@link Penerimaan} dengan key yang diberikan.
			* 
			* @throws TidakDitemukanException Jika {@link Penerimaan} dengan key yang diberikan tidak ditemukan.
			*/
			
			public Penerimaan cari(Key<Penerimaan> key) throws TidakDitemukanException {
			if (key == null)
			throw new NullPointerException("Key dari Penerimaan yang hendak dicari tidak boleh null.");
			
			Penerimaan penerimaan = ofy().load().key(key).now();
			if (penerimaan == null)
			throw new TidakDitemukanException("Tidak ada penerimaan dengan id: '" + key.getId() + "'!");
			
			return penerimaan;
			}
		}
		
		\end{lstlisting}
		
			\begin{lstlisting}[caption=Potongan kode \textit{controller} layanan web, label=controllerWebservice]
		public class PenerimaanAtur {
		/**
		* Tambah {@link Penerimaan} baru.
		* 
		* @param tanggal Tanggal {@link Penerimaan} baru.
		* @param jmlTabung Jumlah Tabung dari {@link Penerimaan} baru.
		* @param idPangkalan dari {@link Penerimaan} baru.
		* @param idPelanggan Id Pelanggan dari {@link Penerimaan} baru.
		*  
		* @throws TidakDitemukanException 
		* @throws StokTidakCukupException 
		*/
		
		public Penerimaan baru(Date tanggal, Integer jmlTabung, Long idPangkalan) throws EntitasDuplikasiException, TidakDitemukanException, StokTidakCukupException {
		Pangkalan pangkalan;
		
		
		// Pastikan id pelanggan ada di entity penerimaan
		try {
		pangkalan = new PangkalanAtur().cari(idPangkalan);
		} catch (TidakDitemukanException e) {
		throw new TidakDitemukanException("Tidak ditemukan Pangkalan dengan id: '"+idPangkalan+"'");
		}
		
		// Pastikan penerimaan tidak memiliki tanggal dan pangkalan yang sama
		try {
		new PenerimaanAtur().cariTanggalPangkalan(tanggal, pangkalan);
		throw new EntitasDuplikasiException("telah ada penjualan dengan tanggal :"+tanggal+"dan pangkalan : "+pangkalan.getNamaPangkalan());
		} catch (TidakDitemukanException e) {}
		
		
		Ref<Pangkalan> refPangkalan = Ref.create(pangkalan);
		
		//tambah penerimaan dengan refLaporan null
		Penerimaan penerimaan = new Penerimaan(tanggal, jmlTabung, null, refPangkalan, false);
		ofy().save().entity(penerimaan).now();
		
		
		return penerimaan;
		}
		
		/**
		* Cari {@link Penerimaan} dengan memakai key-nya.
		* 
		* @param key ID dari {@link Penerimaan} yang hendak dicari.
		* 
		* @return {@link Penerimaan} dengan key yang diberikan.
		* 
		* @throws TidakDitemukanException Jika {@link Penerimaan} dengan key yang diberikan tidak ditemukan.
		*/
		
		public Penerimaan cari(Key<Penerimaan> key) throws TidakDitemukanException {
		if (key == null)
		throw new NullPointerException("Key dari Penerimaan yang hendak dicari tidak boleh null.");
		
		Penerimaan penerimaan = ofy().load().key(key).now();
		if (penerimaan == null)
		throw new TidakDitemukanException("Tidak ada penerimaan dengan id: '" + key.getId() + "'!");
		
		return penerimaan;
		}
		}
		
		\end{lstlisting}	
		
			\begin{lstlisting}[caption=Potongan kode API layanan web, label=apiWebservice]
		@Api(name="penerimaan",
		version="v1",
		title = "Penerimaan",
		description="API untuk Model Penerimaan. ",
		apiKeyRequired=AnnotationBoolean.TRUE)
		public class PenerimaanApi {
		@ApiMethod(name = "daftar", httpMethod = HttpMethod.GET)
		public List<PenerimaanJSON> daftar() {
		
		List<Penerimaan> daftar = new PenerimaanAtur().daftar();
		List<PenerimaanJSON> daftarJSON = new ArrayList<PenerimaanJSON>();
		
		for(Penerimaan baris : daftar)
		daftarJSON.add(new PenerimaanJSON(baris));
		
		return daftarJSON;
		}
		
		@ApiMethod(name = "daftarByPangkalan", httpMethod = HttpMethod.POST)
		public List<PenerimaanJSON> daftarByPangkalan(DaftarByPangkalanJSON params) throws TidakDitemukanException {
		Pangkalan pangkalan = new PangkalanAtur().cari(params.idPangkalan);
		List<Penerimaan> daftar = new PenerimaanAtur().daftarByPangkalan(pangkalan);
		List<PenerimaanJSON> daftarJSON = new ArrayList<PenerimaanJSON>();
		
		for(Penerimaan baris : daftar) {
		daftarJSON.add(new PenerimaanJSON(baris));
		}
		
		return daftarJSON;
		}
		
		@ApiMethod(name = "detail", httpMethod = HttpMethod.GET)
		public PenerimaanJSON detail(@Named("idPenerimaan") Long idPenerimaan) throws BadRequestException, TidakDitemukanException {
		
		Penerimaan penerimaan = new PenerimaanAtur().cari(idPenerimaan);
		
		if(penerimaan==null || penerimaan.getKey() == null) {
		throw new TidakDitemukanException("Tidak ada pangkalan dengan id: '" + idPenerimaan + "'!");
		}
		
		return new PenerimaanJSON(penerimaan);
		}
		}
		
		\end{lstlisting}
	
		\begin{figure}[H]
			\center
			\includegraphics [width = 12cm]{gambar/pengujianApi}
			\caption{Contoh Pengujian Endpoint API pada layanan web (\textit{Webservice})}
			\label{pengujianApi}
		\end{figure} 
		
		\item Aplikasi Mobile
		\\ Aplikasi berbasis \textit{android} dikembangkan menggunakan Ionic Framework yang menggunakan teknologi HTML, JavaScript dan CSS sebagai tampilan \textit{frontend} aplikasi. Pengembangan aplikasi ini mengikuti salah satu prinsip pembuatan aplikasi secara umum yaitu MVC (Model View Controller). Model (providers) berisi fungsi untuk masing-masing method HTTP yang dipanggil oleh aplikasi dari layanan web. \textit{Model} dibuat menggunakan Typescript. \textit{Model} berperan penting pada proses penarikan dan penginputan data ke Google Datastore. Contoh Kode model pada ionic dapat dilihat pada Gambar \ref{modelMobile}. \textit{View} berfungsi untuk mengatur tampilan aplikasi yang ditampilkan pada pengguna melalui HTML dan CSS. Contoh Kode view pada ionic dapat dilihat pada Gambar \ref{modelView}. \textit{Controller} untuk mengatur halaman yang ditampilkan kepada pengguna dan pemanggilan API. \\
		
		\vspace{-0.4cm}
		
		\lstset{language=HTML,
			basicstyle=\ttfamily\scriptsize\color{black},
			keywordstyle=\color{javapurple}\bfseries,
			stringstyle=\color{javared},
			commentstyle=\color{javagreen},
			morecomment=[s][\color{javadocblue}]{/**}{*/},
			numbers=left,
			numberstyle=\tiny\color{black},
			showstringspaces=false,
			numbersep=10pt,
			tabsize=4,
			showspaces=false,
			showstringspaces=false,
			autogobble=true,
			xleftmargin=2em
		}
	
		\begin{lstlisting}[caption=Potongan kode \textit{model} aplikasi berbasis android, label=modelMobile]
		export class RestService {
		apiUrl = 'https://gasapp-2018.appspot.com/_ah/api';
		
		constructor(public http: HttpClient) {
		console.log('Hello RestProvider Provider');
		}
		
		userAuthentication(phoneNumber) {
		return new Promise((resolve, reject) => {
		let headers = new HttpHeaders()
		let data = {noHp:phoneNumber};
		this.http.post(this.apiUrl+'/pangkalan/v1/auth', JSON.stringify(data), {headers: headers})
		.subscribe(res => {
		resolve(res);
		}, (err) => {
		reject(err);
		});
		});
		}
		
		addPelanggan(data){
		return new Promise((resolve, reject) => {
		let headers = new HttpHeaders()
		
		this.http.post(this.apiUrl+'/pelanggan/v1/tambah', JSON.stringify(data), {headers: headers})
		.subscribe(res => {
		resolve(res);
		}, (err) => {
		reject(err);
		});
		});
		}
		
		getPelanggan(nik, idPangkalan) {
		return new Promise((resolve, reject) => {
		let headers = new HttpHeaders()
		let data = {nik:nik, idPangkalan:idPangkalan};
		
		this.http.post(this.apiUrl+'/pelanggan/v1/cariNik', JSON.stringify(data), {headers: headers}).subscribe(data => {
		resolve(data);
		}, (err) => {
		console.log(err);
		reject(err);
		});
		});
		}
		}
		
		\end{lstlisting}
		
		\begin{lstlisting}[caption=Potongan kode \textit{view} aplikasi berbasis android, label=viewMobile]
			<ion-header translucent="true">
			<ion-toolbar id="toolbar-home" style="padding-top:0">
			<ion-title>
			<ion-img [src]="logo" class="logo"></ion-img>
			</ion-title>
			<ion-buttons slot="start">
			<ion-menu-button autoHide="false"></ion-menu-button>
			</ion-buttons>
			</ion-toolbar>
			</ion-header>
			
			<ion-content fullscreen ion-padding color="light">
			
			<!-- <ion-slides pager=true [options]="slideOptions"> 
			<ion-slide *ngFor="let slide of slides">
			<ion-img [src]="slide" class="slide-image"></ion-img>
			</ion-slide> 
			</ion-slides> -->
			<div class="wrap-cover parallax-obj">
			<div class="bg-profile shadow-3">
			<ion-row class="panel-stats">
			<ion-col id="stok" size="6">
			<ion-text color="light" class="stats">
			<h4>Stok Tabung</h4>
			<p>{{statistik.stokTabung}}</p>
			</ion-text> 
			</ion-col>
			<ion-col id="hari" size="6">
			<ion-text color="light" class="stats">
			<h4>Terjual Hari Ini</h4>
			<p>{{statistik.hariIni}}</p>
			</ion-text> 
			</ion-col>
			<ion-col id="bulan" size="6">
			<ion-text color="light" class="stats">
			<h4>Terjual Bulan Ini</h4>
			<p>{{statistik.bulanIni}}</p>
			</ion-text> 
			</ion-col>
			<ion-col id="tahun" size="6">
			<ion-text color="light" class="stats">
			<h4>Terjual Tahun Ini</h4>
			<p>{{statistik.tahunIni}}</p>
			</ion-text> 
			</ion-col>
			</ion-row>
			</div>
			</div>
		
		\end{lstlisting}
		
		\begin{lstlisting}[caption=Potongan kode \textit{controller} aplikasi berbasis android, label=controllerMobile]
		export class HomePage {
		logo = 'assets/img/logoPutih.png';
		
		userData:any;
		statistik = {
		stokTabung: 0,
		hariIni: 0,
		bulanIni: 0,
		tahunIni: 0
		}
		
		constructor(
		private route:ActivatedRoute,
		private custom:CustomService,
		private menu: MenuController,
		private storage: Storage,
		private restService: RestService
		) {
		if(this.route.snapshot.paramMap.has('flashdata')){
		this.custom.showAlert("", this.route.snapshot.paramMap.get('flashdata'));
		}
		
		this.storage.get("userData").then(res => {
		this.userData = res;
		
		this.restService.statistikTabung(this.userData.idPangkalan).then(res => {
		let data:any = res;
		this.statistik.stokTabung = data.stokTabung;
		this.statistik.hariIni = data.tabungTerjualHariIni;
		this.statistik.bulanIni = data.tabungTerjualBulanIni;
		this.statistik.tahunIni = data.tabungTerjualTahunIni;
		})
		console.log(this.userData);
		this.menu.enable(true, 'menu');
		this.menu.open('menu');
		
		}).catch(err => {
		console.log(err);
		});
		
		}
		
		ngOnInit() {
		
		}
		
		slideOptions = {
		autoplay: {
		delay: 5000,
		}
		};
		}
		
		\end{lstlisting}
		
		 aplikasi ini juga menggunakan layanan Google Firebase untuk dapat melakukan proses login menggunakan nomor HP atau dinamakan dengan \textit{Phone Authentication} seperti pada Gambar \ref{firebaseAuth}
		
		\begin{figure}[H]
			\center
			\includegraphics [width = 12cm]{gambar/firebaseAuth}
			\caption{Halaman Konsole  \textit{Phone Authentication} pada Google Firebase}
			\label{firebaseAuth}
		\end{figure} 
	
		\item Aplikasi Web
		\\ Aplikasi berbasis \textit{web} dikembangkan menggunakan Bahasa pemrograman Java dengan menggunakan prinsip yang sama yaitu MVC (Model View Controller). dimana \textit{model} menggunakan pustaka HTTP untuk memanggil method HTTP pada layanan web dan pustaka GSON untuk melakukan proses konversi dari JSON ke dalam objek java. untuk \textit{view} menggunakan JSP (\textit{Java Server Page}) untuk menampilkan isi halaman \textit{web} yang akan dibangun. JSP memiliki struktur bahasa yang hampir sama dengan HTML (\textit{Hypertext Markup Language}). untuk \textit{controller} menggunakan pustaka HTTP Servlet untuk menangani permintaan HTTP URL dan mengatur pemanggilan \textit{view dan model}. Aplikasi ini nanti akan berjalan pada platform Google App Engine (GAE)\\
		
		\vspace{-0.4cm}
		
			\lstset{language=Java,
			basicstyle=\ttfamily\scriptsize\color{black},
			keywordstyle=\color{javapurple}\bfseries,
			stringstyle=\color{javared},
			commentstyle=\color{javagreen},
			morecomment=[s][\color{javadocblue}]{/**}{*/},
			numbers=left,
			numberstyle=\tiny\color{black},
			showstringspaces=false,
			numbersep=10pt,
			tabsize=4,
			showspaces=false,
			showstringspaces=false,
			autogobble=true,
			xleftmargin=2em
		}
	
			\begin{lstlisting}[caption=Potongan kode \textit{model} aplikasi berbasis web, label=modelWeb]
			public class PangkalanService extends AppService{
				
				private static final String baseUrl=AppService.getWebService();
				
				public ListPangkalanJson getPangkalan()
				{
				String restUrl = baseUrl+"/pangkalan/v1/daftar";
				
				String jsonString = getJsonString(restUrl);
				ListPangkalanJson jsonObject = null;
				
				//Konversi json string ke class object
				try{
				Gson gson = new GsonBuilder().create();
				jsonObject = gson.fromJson(jsonString, ListPangkalanJson.class);            
				}
				catch(JsonSyntaxException ex)
				{
				ex.printStackTrace();
				}
				
				return jsonObject;
				}
				
				public PangkalanJson getDetailPangkalan(Long idPangkalan)
				{
				String restUrl = baseUrl+"/pangkalan/v1/detail/"+idPangkalan;
				
				String jsonString = getJsonString(restUrl);
				PangkalanJson jsonObject = null;
				
				//Konversi json string ke class object
				try{
				Gson gson = new GsonBuilder().create();
				jsonObject = gson.fromJson(jsonString, PangkalanJson.class);            
				}
				catch(JsonSyntaxException ex)
				{
				ex.printStackTrace();
				}
				
				return jsonObject;
				}
		}
		
		\end{lstlisting}
		
			\lstset{language=HTML,
			basicstyle=\ttfamily\scriptsize\color{black},
			keywordstyle=\color{javapurple}\bfseries,
			stringstyle=\color{javared},
			commentstyle=\color{javagreen},
			morecomment=[s][\color{javadocblue}]{/**}{*/},
			numbers=left,
			numberstyle=\tiny\color{black},
			showstringspaces=false,
			numbersep=10pt,
			tabsize=4,
			showspaces=false,
			showstringspaces=false,
			autogobble=true,
			xleftmargin=2em
		}
			\begin{lstlisting}[caption=Potongan kode \textit{view} aplikasi berbasis web, label=viewWeb]
		 <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
		<!-- Main content -->
		<section class="content">
		<!-- Small boxes (Stat box) -->
		<div class="row">
		<c:choose>
		<c:when test="${sessionScope.userGroup == 'administrator'}">
		<div class="col-lg-6 col-xs-6">
		<!-- small box -->
		<div class="small-box bg-aqua">
		<div class="inner">
		<h3>${jmlAgen}</h3>
		<p>Jumlah Agen</p>
		</div>
		<div class="icon">
		<i class="fa fa-user"></i>
		</div>
		<a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
		</div>
		</div><!-- ./col -->
		<div class="col-lg-6 col-xs-6">
		<!-- small box -->
		<div class="small-box bg-green">
		<div class="inner">
		<h3>${jmlPangkalan}</h3>
		<p>Jumlah Pangkalan</p>
		</div>
		<div class="icon">
		<i class="fa fa-user"></i>
		</div>
		<a href="#" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
		</div>
		</div><!-- ./col -->
		</c:when>   
		
		\end{lstlisting}
		
		
			\lstset{language=Java,
			basicstyle=\ttfamily\scriptsize\color{black},
			keywordstyle=\color{javapurple}\bfseries,
			stringstyle=\color{javared},
			commentstyle=\color{javagreen},
			morecomment=[s][\color{javadocblue}]{/**}{*/},
			numbers=left,
			numberstyle=\tiny\color{black},
			showstringspaces=false,
			numbersep=10pt,
			tabsize=4,
			showspaces=false,
			showstringspaces=false,
			autogobble=true,
			xleftmargin=2em
		}
			\begin{lstlisting}[caption=Potongan kode \textit{controller} aplikasi berbasis web, label=controllerWeb]
				@SuppressWarnings("serial")
				@WebServlet(
				name="Dashboard",
				urlPatterns={"/dashboard"}, 
				description="Halaman Dashboard (admin)"
				)
				public class Dashboard extends HttpServlet{
				
				
				@Override
				protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
				
				HttpSession session = req.getSession();
				//cek otentikasi user dengan session
				if (session == null || session.getAttribute("userMail") == null) {
				resp.sendRedirect(AppService.getBaseUrl(req)+"/login");
				return;
				}
				
				List<AgenJson> agenJsons;
				List<PangkalanJson> pangkalanJsons;
				
				
				if(session.getAttribute("userGroup").toString().compareTo("agen") == 0) {
				Long idAgen =  (Long) session.getAttribute("userIdAgen");
				
				pangkalanJsons = new PangkalanService().getPangkalanByAgen(idAgen).getItems();
				
				StatistikPenjualanParam param = new StatistikPenjualanParam(idAgen);
				StatistikJson statistikAgen =  new StatistikService().getStatistik(param);
				
				req.setAttribute("rataBulanan", statistikAgen.getRataPenjualanBulanIni());
				req.setAttribute("rataTahunan", statistikAgen.getRataPenjualanTahunIni());
				}else {
				agenJsons = new StatistikService().getAgen().getItems();
				pangkalanJsons = new StatistikService().getPangkalan().getItems();
				req.setAttribute("jmlAgen",agenJsons.size());
				}
				
				
				
				req.setAttribute("baseUrl", AppService.getBaseUrl(req));
				req.setAttribute("pageTitle", "Dashboard");
				req.setAttribute("webserviceUrl", AppService.getWebService());
				req.setAttribute("content", "Home");
				
				req.setAttribute("jmlPangkalan", pangkalanJsons.size());
				
				
				resp.setContentType("text/html");
				RequestDispatcher jsp = req.getRequestDispatcher(KonstantaWebApp.JSP_FOLDER+"Dashboard.jsp");
				jsp.forward(req, resp);
				}
				
				
				}
		
		\end{lstlisting}
	
		Aplikasi berbasis web ini menggunakan layanan Google Sign-in untuk melakukan proses login dengan memakai email google sebagai ID Pengenal. Untuk proses implementasinya hanya dengan menanamkan \textit{script} javascript pada halaman login seperti pada Gambar \ref{loginWeb}. Aplikasi ini juga memakai pustaka java yang bernama itext untuk melakukan ekspor data penyaluran tabung dalam bentuk \textit{file} PDF. Berikut potongan kode untuk melakukan proses ekspor pada Gambar \ref{eksporWeb}.
	
			\lstset{language=HTML,
			basicstyle=\ttfamily\scriptsize\color{black},
			keywordstyle=\color{javapurple}\bfseries,
			stringstyle=\color{javared},
			commentstyle=\color{javagreen},
			morecomment=[s][\color{javadocblue}]{/**}{*/},
			numbers=left,
			numberstyle=\tiny\color{black},
			showstringspaces=false,
			numbersep=10pt,
			tabsize=4,
			showspaces=false,
			showstringspaces=false,
			autogobble=true,
			xleftmargin=2em
		}
	
		\begin{lstlisting}[caption=Potongan kode Login memakai email aplikasi berbasis web, label=loginWeb]
			<script src="assets/modules/bootstrap/js/bootstrap.min.js"></script>
			<script type="text/javascript">
			var BASE_URL = '${baseUrl}';
			$(document).ready(function(){
			$('[data-toggle="tooltip"]').tooltip();
			});
			</script>
		
		\end{lstlisting}
	
		\lstset{language=Java,
		basicstyle=\ttfamily\scriptsize\color{black},
		keywordstyle=\color{javapurple}\bfseries,
		stringstyle=\color{javared},
		commentstyle=\color{javagreen},
		morecomment=[s][\color{javadocblue}]{/**}{*/},
		numbers=left,
		numberstyle=\tiny\color{black},
		showstringspaces=false,
		numbersep=10pt,
		tabsize=4,
		showspaces=false,
		showstringspaces=false,
		autogobble=true,
		xleftmargin=2em
	}
		\begin{lstlisting}[caption=Potongan kode ekspor data aplikasi berbasis web, label=eksporWeb]
		protected void generatePdf(Document doc, String[] periode, EksporPelaporanJson data) 
		throws IOException {
		doc.add(new Paragraph("Data Laporan Penyaluran Gas 3Kg" ).setBold().setFontSize(14).setTextAlignment(TextAlignment.CENTER));
		Table detailPangkalan = new Table(3);
		detailPangkalan.setMarginTop(18);
		detailPangkalan.setMarginLeft(8);
		
		detailPangkalan.addCell(new Cell().add(new Paragraph("Nama Pangkalan")).setBorder(Border.NO_BORDER));
		detailPangkalan.addCell(new Cell().add(new Paragraph(":")).setBorder(Border.NO_BORDER));
		detailPangkalan.addCell(new Cell().add(new Paragraph(data.getNamaPangkalan())).setBorder(Border.NO_BORDER));
		
		detailPangkalan.addCell(new Cell().add(new Paragraph("Nama Pemilik")).setBorder(Border.NO_BORDER));
		detailPangkalan.addCell(new Cell().add(new Paragraph(":")).setBorder(Border.NO_BORDER));
		detailPangkalan.addCell(new Cell().add(new Paragraph(data.getNamaPemilik())).setBorder(Border.NO_BORDER));
		
		detailPangkalan.addCell(new Cell().add(new Paragraph("Alamat")).setBorder(Border.NO_BORDER));
		detailPangkalan.addCell(new Cell().add(new Paragraph(":")).setBorder(Border.NO_BORDER));
		detailPangkalan.addCell(new Cell().add(new Paragraph(data.getAlamatPangkalan())).setBorder(Border.NO_BORDER));
		
		detailPangkalan.addCell(new Cell().add(new Paragraph("Agen Penyuplai")).setBorder(Border.NO_BORDER));
		detailPangkalan.addCell(new Cell().add(new Paragraph(":")).setBorder(Border.NO_BORDER));
		detailPangkalan.addCell(new Cell().add(new Paragraph(data.getNamaAgen())).setBorder(Border.NO_BORDER));
		
		detailPangkalan.addCell(new Cell().add(new Paragraph("Bulan")).setBorder(Border.NO_BORDER));
		detailPangkalan.addCell(new Cell().add(new Paragraph(":")).setBorder(Border.NO_BORDER));
		detailPangkalan.addCell(new Cell().add(new Paragraph(periode[0]+" "+periode[1])).setBorder(Border.NO_BORDER));
		
		doc.add(detailPangkalan);
		doc.add(generateTable(periode, data.getPelaporan()));
		}
		\end{lstlisting}

	\end{enumerate}

	
	\section{Pengujian Sistem}
	
		\subsection{Metode \textit{Whitebox}}
			\par Pada pengujian \textit{whitebox}, aplikasi ini menggunakan JUnit yang dapat melakukan pengujian secara otomatis. Aspek-aspek yang diuji pada pengujian ini adalah bagaimana program yang dibangun bukan hanya dapat berjalan dengan semestinya (\textit{test success}), tapi pada saat diberikan sebuah parameter yang salah program dapat mengembalikan error yang semestinya (\textit{test fail}). Aplikasi yang dibangun telah dianggap lulus pengujian apabila mampu melewati semua \textit{test} secara sempurna 100\%. 
			
				\lstset{language=Java,
				basicstyle=\ttfamily\scriptsize\color{black},
				keywordstyle=\color{javapurple}\bfseries,
				stringstyle=\color{javared},
				commentstyle=\color{javagreen},
				morecomment=[s][\color{javadocblue}]{/**}{*/},
				numbers=left,
				numberstyle=\tiny\color{black},
				showstringspaces=false,
				numbersep=10pt,
				tabsize=4,
				showspaces=false,
				showstringspaces=false,
				autogobble=true,
				xleftmargin=2em
			}
			
			\begin{lstlisting}[caption=Potongan kode Pengujian JUnit dengan kasus berhasil (\textit{test success}), label=testSuccess]
				//cek tambah penerimaan
				@Test
				public void baru() throws EntitasDuplikasiException,
				TidakDitemukanException, StokTidakCukupException {
				Agen agen = this.buatAgen();
				Pangkalan pangkalan = this.buatPangkalan(agen);
				
				Penerimaan penerimaan = new PenerimaanAtur().baru(tanggalPenerimaan1, jmlTabungPenerimaan1, pangkalan.getId());
				assertNotNull(penerimaan);
				assertNotNull(penerimaan.getId());
				assertNotNull(penerimaan.getKey());
				assertNotNull(penerimaan.getTanggal());
				assertEquals(penerimaan.getTanggal().compareTo(tanggalPenerimaan1), 0);
				assertNotNull(penerimaan.getJmlTabung());
				assertEquals(penerimaan.getJmlTabung().compareTo(jmlTabungPenerimaan1), 0);
				assertNotNull(penerimaan.getPangkalan());
				assertEquals(penerimaan.getPangkalan().compareTo(Ref.create(pangkalan)), 0);
				assertNull(penerimaan.getLaporan());
				assertNotNull(penerimaan.getStatusVerifikasi());
				assertEquals(penerimaan.getStatusVerifikasi().compareTo(false), 0);
				}
			\end{lstlisting}
			
				\begin{lstlisting}[caption=Potongan kode Pengujian JUnit dengan kasus gagal (\textit{test fail}), label=testFail]
			//cek tambah penerimaan dengan tanggal null
			@Test(expected = NullPointerException.class)
			public void baruTanggalNull() throws EntitasDuplikasiException, TidakDitemukanException, StokTidakCukupException {
			Agen agen = this.buatAgen();
			Pangkalan pangkalan = this.buatPangkalan(agen);
			
			new PenerimaanAtur().baru(null, jmlTabungPenerimaan1, pangkalan.getId());
			}
			\end{lstlisting}
		
			\begin{figure}[H]
				\center
				\includegraphics [width = 14cm]{gambar/kode/junit-success}
				\caption{Pengujian JUnit Berhasil}
				\label{junitSuccess}
			\end{figure}
		
			\begin{figure}[H]
				\center
				\includegraphics [width = 14cm]{gambar/kode/junit-fail}
				\caption{Pengujian JUnit Gagal}
				\label{junitFail}
			\end{figure}
	
	
	\subsection{Metode \textit{Blackbox}}
	
	Pada pengujian menggunakan metode \textit{blackbox}, aspek yang diuji adalah aspek fungsionalitas dari aplikasi tanpa melihat proses logika yang terjadi dibelakang. Berikut hasil dari pengujian ini dapat dilihat pada tabel \ref{ujiWeb} untuk aplikasi berbasis \textit{web} dan tabel \ref{ujiMobile} untuk aplikasi android.
	
	\begin{longtable}{ |c|p{3cm}|p{3cm}|p{3cm}|p{2cm}|}
	\caption{Pengujian \textit{blackbox} pada aplikasi berbasis web}
	\label{ujiWeb} \\ \hline
	\textbf{No.}                  &  \textbf{Nama Pengujian}         & \textbf{Skenario}                                       & \textbf{Luaran}              & \textbf{Hasil Pengujian} \\ \hline
	
	
	\multirow{2}{*}{1.}  & 	\multirow{2}{*}{Login Akun} & Klik \textit{link} "Login menggunakan Email Google"           & Tampil form login google yang harus diisi oleh pengguna.             & Berhasil \\ \cline{3-5}
	& & Masukkan email google dan passwordnya           & muncul halaman beranda         & Berhasil \\ \hline
	
	\multirow{3}{*}{2.}  & 	\multirow{3}{*}{Tambah Pangkalan} & Klik menu pangkalan           & Tampil daftar pangkalan yang ada.             & Berhasil \\ \cline{3-5}
	& & Klik tombol "tambah pangkalan"           & Tampil form untuk menginput data pangkalan baru.             & Berhasil \\ \hline
	& & Masukkan data pangkalan ke dalam form dan klik tombol "simpan"           & Muncul peringatan bahwa pangkalan telah berhasil ditambah.             & Berhasil \\ \hline
	
	\multirow{4}{*}{3.}  & 	\multirow{4}{*}{Edit Pangkalan} & Klik menu pangkalan           & Tampil daftar pangkalan yang ada.             & Berhasil \\ \cline{3-5}
	& & Klik tombol "profil"           & Tampil form data pangkalan yang ter-\textit{disable} semua.             & Berhasil \\ \cline{3-5}
	& & Klik tombol "edit"           & form tadi dapat diedit             & Berhasil \\ \cline{3-5}
	& & Edit data pangkalan pada form dan klik tombol "simpan"           & Muncul peringatan bahwa pangkalan telah berhasil diedit.             & Berhasil \\ \hline
	
	
	\multirow{4}{*}{4.}  & 	\multirow{4}{*}{\parbox{3cm}{\centering Tambah Rencana Pasokan Tabung}} & Klik menu pangkalan           & Tampil daftar pangkalan yang ada.             & Berhasil \\ \cline{3-5}
	& & Klik tombol "Rencana Pasokan"           & Tampil halaman daftar pasokan tabung untuk pangkalan tersebut.             & Berhasil \\ \cline{3-5}
	& & Klik tombol "tambah penerimaan"           & Muncul form untuk menginput data rencana pasokan.             & Berhasil \\ \cline{3-5}
	& & Masukkan data pasokan tabung ke dalam form dan klik tombol "simpan"     & Muncul peringatan bahwa data pasokan telah berhasil ditambah.             & Berhasil \\ \hline
	
	\multirow{2}{*}{5.}  & 	\multirow{2}{*}{Ekspor Laporan} & Klik menu data laporan          & Tampil Form Ekspor Laporan.             & Berhasil \\ \hline
	& & Masukkan periode laporan dan milik pangkalan mana setelah itu klik tombol "Ekspor Data"     & Muncul laporan penyaluran tabung dalam bentuk file PDF.             & Berhasil \\ \hline
		
	\end{longtable}
	
	\begin{longtable}{ |c|p{3cm}|p{3cm}|p{3cm}|p{2cm}|}
		\caption{Pengujian \textit{blackbox} pada aplikasi berbasis android}
		\label{ujiMobile} \\ \hline
		\textbf{No.}                  &  \textbf{Nama Pengujian}         & \textbf{Skenario}                                       & \textbf{Luaran}              & \textbf{Hasil Pengujian} \\ \hline
		
		
		\multirow{2}{*}{1.}  & 	\multirow{2}{*}{Login Akun} & Masukkan no HP akun pangkalan yang telah terdaftar           & masuk SMS kode OTP dan  Tampil halaman verifikasi OTP         & Berhasil \\ \cline{3-5}
		& & Masukkan Kode OTP dan tekan tombol "verifikasi"           & muncul halaman beranda         & Berhasil \\ \hline
		
		\multirow{5}{*}{2.}  & 	\multirow{5}{*}{\parbox{3cm}{\centering Register Pelanggan}} & Klik menu "register pelanggan"           & Tampil form untuk menginput data pelanggan            & Berhasil \\ \cline{3-5}
		& & Masukkan data pelanggan ke dalam form dan klik tombol "simpan"           & Tampil halaman untuk mengupload berkas pelanggan.             & Berhasil \\ \cline{3-5}
		& &  Tekan tombol "foto diri" untuk mengambil foto diri pelanggan        & Tombol "foto diri" akan terdapat logo centang             & Berhasil \\ \cline{3-5}
		& &  Tekan tombol "foto KTP" untuk mengambil foto ktp pelanggan        & Tombol "foto KTP" akan terdapat logo centang             & Berhasil \\ \hline
		& &  Tekan tombol "simpan" untuk menginput data pelanggan baru   & Muncul peringatan bahwa data pelanggan baru telah berhasil ditambah.             & Berhasil \\ \hline
		
		\multirow{1}{*}{3.}  & 	\multirow{1}{*}{Penjualan Tabung} & Klik menu "Penjualan Tabung"          & Tampil halaman untuk mencari pelanggan.             & Berhasil \\ \cline{3-5}
		\multirow{5}{*}{} & \multirow{5}{*}{} & Masukkan nik dari pelanggan yang membeli tabung dan tekan nama pelanggan           & Tampil data detail pelanggan.             & Berhasil \\ \cline{3-5}
		& & Klik tombol "beli tabung"           & tampil halaman pilihan jumlah tabung & Berhasil
		 \\ \cline{3-5}
		& & tekan salah pilihan tabung           & Tampil halaman untuk mengupload bukti pembelian.             & Berhasil \\ \cline{3-5}
		& &  Tekan tombol "foto Bukti Pembelian" untuk mengambil foto Bukti Pembelian pelanggan        & Tombol "foto Bukti Pembelian" akan terdapat logo centang             & Berhasil \\ \cline{3-5}
		& &  Tekan tombol "simpan" untuk menginput data penjualan  & Muncul peringatan bahwa penjualan baru telah berhasil.             & Berhasil \\ \hline
		
		\multirow{1}{*}{4.}  & 	\multirow{1}{*}{\parbox{3cm}{\centering Riwayat Pembelian Tabung}} & Klik menu "Penjualan Tabung"          & Tampil halaman untuk mencari pelanggan.             & Berhasil \\ \hline
		 \multirow{3}{*}{} & \multirow{3}{*}{} & Masukkan nik dari pelanggan yang membeli tabung dan tekan nama pelanggan           & Tampil data detail pelanggan.             & Berhasil \\ \cline{3-5}
		& & Tekan tombol "riwayat pembelian"           & tampil halaman daftar riwayat pembelian tabung & Berhasil
		\\ \cline{3-5}
		& & tekan salah satu dari daftar pembelian           & Tampil halaman yang menampilkan foto bukti pembelian.             & Berhasil \\ \hline
	
		
		
		\multirow{3}{*}{5.}  & 	\multirow{3}{*}{\parbox{3cm}{\centering Verifikasi Penerimaan Pasokan Tabung}} & Klik menu "Penerimaan Tabung"           & Tampil daftar penerimaan pasokan yang ada.             & Berhasil \\ \cline{3-5}
		& & geser salah salah satu daftar penerimaan dan tekan tombol centang           & Tampil peringatan konfirmasi penerimaan tabung.             & Berhasil \\ \cline{3-5}
		& & Tekan tombol "ya"           & Muncul peringatan bahwa penerimaan tabung telah berhasil dan jumlah tabung bertambah.             & Berhasil \\ \hline
		
	\end{longtable}

	Berdasarkan tabel \ref{ujiWeb} dan tabel \ref{ujiMobile} seluruh pengujian yang telah dilakukan berhasil sehingga aplikasi web dan android sudah dapat berjalan dengan baik. 
	
	\subsection{Metode \textit{Usability Testing}}
	
	Setelah melakukan pengujian sistem, selanjutnya aplikasi akan diuji dengan pengujian \textit{Usability Testing} pada delapan responden dan mengisi kuesioner SUS. SUS memiliki kuesioner yang terdiri dari 10 pertanyaan. Contoh dari SUS dapat dilihat pada lampiran 2 dan \textit{Test Plan} pengujian ini dapat dilihat pada tabel \ref{test plan}.
	
		\begin{center}
		\begin{table}[H]
			\center
			\caption{\textit{Test Plan }pengujian \textit{usability} aplikasi}
			\label{test plan}
			\begin{tabular}{ |p{12cm}|  }
				\hline
				\multicolumn{1}{|c|}{\textbf{\textit{Test Plan} \textit{Usablity Testing}}} \\
				\hline
				Lokasi :
				\begin{enumerate}
					\item PT Pasha Jaya, Meuraxa
					\item Starjazz Kupi, Batoh
					\item Dhapu Kupi, Batoh
					\item Pangkalan Gas Ateuk Meunjeng
					\item Pangkalan Gas Lingke
					\item Pangkalan Gas Lampeunereut
				\end{enumerate}
				Skenario :
				\begin{enumerate}[a.]
					\item Mobile:
						\begin{enumerate}[1.]
							\item Pengguna \textit{login} kedalam aplikasi
							\item Pengguna mendaftarkan pelanggan baru
							\item Pengguna mencatat pembelian tabung 
							\item Pengguna konfirmasi penerimaan pasokan tabung
							\item Pengguna keluar dari aplikasi
							
						\end{enumerate}
					\item Web:
						\begin{enumerate}[1.]
							\item Pengguna \textit{login} kedalam aplikasi
							\item Pengguna menambahkan pangkalan baru.
							\item Pengguna menginput rencana pasokan tabung untuk pangkalan.
							\item Pengguna mencetak laporan penyaluran tabung.
							\item Pengguna keluar dari aplikasi
							
						\end{enumerate}
				\end{enumerate}
				 \\
				\hline
			\end{tabular}
		\end{table}
	\end{center}

	\begin{center}
	\begin{tabular}{ |p{12cm}|  }
		\hline
		Alat   : \textit{Smartphone} Android untuk menggunakan aplikasi dan laptop untuk menggunakan aplikasi berbasis web\\
		Hasil : Hasil Pengujian SUS terdapat pada Tabel \ref{hasilSusAgen} dan Tabel \ref{hasilSusPangkalan}\\
		\hline
	\end{tabular}
\end{center}

\begin{table}[H]
	\center
	\caption{Hasil Pengujian SUS pada Aplikasi Berbasis Web untuk Agen.}
	\label{hasilSusAgen}
	\begin{tabular}{|c|l|l|l|l|l|l|l|l|l|l|l|}
		\hline
		\multirow{2}{*}{Nama} & \multicolumn{10}{c|}{Skor Untuk Tiap Pertanyaan} &  \multirow{2}{0.5cm}{Jml} \\ \cline{2-11} 
		&1 &2  &3 &4 &5 &6 &7 &8 &9 &10& \\
		\hline
		User 1 &8 &8 &8 &6 &8 &10 &10 &6 &10 &6 &80 \\ 
		\hline
		User 2 &8 &6 &8 &8 &8 &8 &10 &8 &6 &6 &76 \\ 
		\hline
		User 3 &8 &10 &10 &4 &8 &10 &10 &10 &10 &8 &88 \\ 
		\hline
		User 4 &8 &6 &10 &8 &8 &8 &10 &8 &8 &8 &82 \\ 
		\hline
		User 5 &8 &6 &8 &8 &6 &8 &8 &6 &8 &8 &74 \\ 
		\hline
		User 6 &6 &8 &6 &8 &8 &8 &8 &6 &8 &8 &74 \\ 
		\hline
		User 7 &6 &6 &8 &8 &10 &6 &6 &10 &8 &8 &76 \\ 
		\hline
		User 8 &8 &8 &10 &6 &10 &10 &8 &6 &6 &6 &80 \\ 
		\hline
	\end{tabular}
\end{table}

\begin{table}[H]
	\center
	\caption{Hasil Pengujian SUS pada Aplikasi Berbasis Android untuk Pangkalan.}
	\label{hasilSusPangkalan}
	\begin{tabular}{|c|l|l|l|l|l|l|l|l|l|l|l|}
		\hline
		\multirow{2}{*}{Nama} & \multicolumn{10}{c|}{Skor Untuk Tiap Pertanyaan} &  \multirow{2}{0.5cm}{Jml} \\ \cline{2-11} 
		&1 &2  &3 &4 &5 &6 &7 &8 &9 &10& \\
		\hline
		User 1 &10 &6 &10 &8 &10 &10 &10 &8 &10 &6 &88 \\ 
		\hline
		User 2 &8 &6 &8 &8 &4 &8 &8 &8 &8 &6 &72 \\ 
		\hline
		User 3 &8 &10 &8 &6 &10 &10 &10 &10 &8 &6 &86 \\ 
		\hline
		User 4 &10 &8 &8 &6 &8 &8 &8 &10 &8 &6 &80 \\ 
		\hline
		User 5 &8 &6 &6 &8 &8 &8 &8 &8 &6 &8 &74 \\ 
		\hline
		User 6 &6 &6 &8 &10 &8 &8 &10 &8 &8 &6 &78 \\ 
		\hline
		User 7 &8 &10 &6 &6 &10 &6 &6 &8 &8 &6 &74 \\ 
		\hline
		User 8 &8 &8 &8 &6 &6 &6 &6 &8 &8 &6 &70 \\ 
		\hline
	\end{tabular}
\end{table}

Dari hasil pengujian usability diperoleh skor yang dihitung dari nilai rata-rata seluruh responden untuk aplikasi berbasis web untuk Agen yaitu sebesar 78 dan aplikasi berbasis android untuk Pangkalan sebesar 77. Maka untuk mendapatkan interpretasi skor tersebut, dihitung persentase pencapaian dengan rumus berikut. 

\[persentase = \frac{nilai Total}{nilai Maximum}\times100\]
\[persentase Aplikasi Web = \frac{78}{100}\times100=78\%\]
\[persentase Aplikasi Android = \frac{77}{100}\times100=77\%\]

Persentase pencapaian untuk aplikasi ini yaitu 78\% untuk aplikasi web dan 77\% untuk aplikasi android. Kemudian dilakukan komparasi nilai persentase pencapaian dengan interpretasi skor. Aplikasi-aplikasi ini berada pada rentang 61-80\% dengan interpretasi skor “Layak”. Berdasarkan hasil tersebut, dapat disimpulkan bahwa aplikasi-aplikasi ini memiliki fitur yang baik dan sesuai dengan kebutuhan setiap kelompok pengguna serta dapat digunakan untuk membantu dalam hal laporan penyaluran gas LPG 3 Kg.  

Selama pengujian usability berlangsung dilakukan pula penghitungan terhadap waktu pengerjaan (\textit{time on task}) dan kesalahan pengguna dalam menyelesaikan tugas-tugas \textit{(task error)} yang diberikan. Penghitungan\textit{ \textit{time on task}} dilakukan untuk mengetahui berapa lama waktu yang dibutuhkan pengguna untuk mengerjakan tugas yang diberikan dan diukur dalam satuan detik (s). Hasil dari penghitungan \textit{time on task} untuk aplikasi untuk agen dapat dilihat pada tabel \ref{timeOnTaskAgen} dan untuk pangkalan dapat dilihat pada tabel \ref{timeOnTaskPangkalan}. 

\begin{table}[H]
	\center
	\caption{\textit{Time On Task} Pengujian Aplikasi Berbasis Web untuk Agen.}
	\label{timeOnTaskAgen}
	\begin{tabular}{|c|l|l|l|l|l|}
		\hline
		\multirow{2}{*}{Nama} & \multicolumn{5}{c|}{Tugas (s)} \\ \cline{2-6} 
		&1 &2  &3 &4 &5  \\
		\hline
		User 1 &10 &20 &27 &15 &6  \\ 
		\hline
		User 2 &12 &22 &29 &16 &5  \\ 
		\hline
		User 3 &8 &19 &28 &15 &5  \\ 
		\hline
		User 4 &9 &20 &23 &18 &7  \\ 
		\hline
		User 5 &8 &19 &24 &17 &8  \\ 
		\hline
		User 6 &10 &23 &25 &16 &8 \\ 
		\hline
		User 7 &12 &20 &23 &15 &8  \\ 
		\hline
		User 8 &10 &21 &26 &15 &8  \\ 
		\hline
		Total(s)  &79 &164 &205 &127 &53 \\ 
		\hline
		Rata-Rata(s)  &10 &21 &26 &16 &7  \\ 
		\hline
	\end{tabular}
\end{table}

\begin{table}[H]
	\center
	\caption{\textit{Time On Task} Pengujian Aplikasi Berbasis Android untuk Pangkalan.}
	\label{timeOnTaskPangkalan}
	\begin{tabular}{|c|l|l|l|l|l|}
		\hline
		\multirow{2}{*}{Nama} & \multicolumn{5}{c|}{Tugas (s)} \\ \cline{2-6} 
		&1 &2  &3 &4 &5  \\
		\hline
		User 1 &12 &20 &24 &15 &7  \\ 
		\hline
		User 2 &11 &22 &26 &15 &8  \\ 
		\hline
		User 3 &10 &21 &27 &14 &8  \\ 
		\hline
		User 4 &9 &19 &24 &16 &10  \\ 
		\hline
		User 5 &12 &23 &25 &14 &9  \\ 
		\hline
		User 6 &10 &19 &28 &17 &10 \\ 
		\hline
		User 7 &9 &23 &27 &16 &7  \\ 
		\hline
		User 8 &10 &22 &21 &19 &9  \\ 
		\hline
		Total(s)  &83 &169 &202 &126 &68 \\ 
		\hline
		Rata-Rata(s)  &11 &22 &26 &16 &9  \\ 
		\hline
	\end{tabular}
\end{table}

Tugas 2 dan 3 pada tabel \ref{timeOnTaskAgen} dibutuhkan waktu yang sedikit lebih lama ketimbang tugas lainnya karena ada beberapa \textit{form} yang harus diisikan oleh \textit{user}. Begitu juga tugas 2 dan 3 pada tabel \ref{timeOnTaskPangkalan} dibutuhkan waktu agak lama untuk mengisi \textit{form} dan juga mengunggah data foto.

Penghitungan \textit{task error} dilakukan untuk mengetahui seberapa banyak kesalahan yang dilakukan pengguna dalam mengerjakan tugas yang diberikan.Hasil dari penghitungan nya  dapat dilihat pada tabel \ref{taskErrorAgen} untuk agen dan table \ref{taskErrorPangkalan} untuk pangkalan. 
\begin{table}[H]
	\center
	\caption{\textit{Task Error} Pengujian Aplikasi Berbasis web untuk Agen.}
	\label{taskErrorAgen}
	\begin{tabular}{|c|l|l|l|l|l|l|}
		\hline
		\multirow{2}{*}{Nama} & \multicolumn{5}{c|}{Tugas} &  \multirow{2}{0.5cm}{Jml} \\ \cline{2-6} 
		&1 &2  &3 &4 &5& \\
		\hline
		User 1 &0 &0 &0 &0 &0 &0 \\ 
		\hline
		User 2 &0 &0 &1 &0 &0 &1  \\ 
		\hline
		User 3 &0 &0 &0 &0 &0 &0  \\ 
		\hline
		User 4 &0 &0 &0 &0 &0 &0  \\ 
		\hline
		User 5 &0 &0 &0 &1 &0 &1  \\ 
		\hline
		User 6 &0 &0 &1 &1 &1 &2  \\ 
		\hline
		User 7 &0 &0 &0 &0 &0 &0 \\ 
		\hline
		User 8 &0 &0 &1 &0 &0 &1 \\ 
		\hline
		Total(s)  &0 &0 &3 &2 &0 &5 \\ 
		\hline
	\end{tabular}
\end{table}

\begin{table}[H]
	\center
	\caption{\textit{Task Error} Pengujian Aplikasi Berbasis android untuk Pangkalan.}
	\label{taskErrorPangkalan}
	\begin{tabular}{|c|l|l|l|l|l|l|}
		\hline
		\multirow{2}{*}{Nama} & \multicolumn{5}{c|}{Tugas} &  \multirow{2}{0.5cm}{Jml} \\ \cline{2-6} 
		&1 &2  &3 &4 &5& \\
		\hline
		User 1 &0 &0 &1 &0 &0 &1 \\ 
		\hline
		User 2 &0 &0 &1 &0 &0 &1  \\ 
		\hline
		User 3 &0 &0 &0 &0 &0 &0  \\ 
		\hline
		User 4 &0 &0 &0 &0 &0 &0  \\ 
		\hline
		User 5 &0 &1 &0 &0 &0 &1  \\ 
		\hline
		User 6 &0 &1 &1 &0 &0 &2  \\ 
		\hline
		User 7 &0 &0 &0 &0 &0 &0 \\ 
		\hline
		User 8 &0 &0 &0 &0 &1 &1 \\ 
		\hline
		Total(s)  &0 &2 &3 &0 &1 &6 \\ 
		\hline
	\end{tabular}
\end{table}
Tabel \ref{taskErrorAgen} dapat dilihat bahwa tugas 3 dan 4 sering terjadi \textit{task error}. Berdasarkan \textit{think aloud} yang dilakukan saat proses usability hal ini terjadi karena \textit{user} agen belum terbiasa dengan alur aplikasi. Sedangkan pada tabel \ref{taskErrorPangkalan} dapat dilihat bahwa tugas tugas 2 dan 3 sering terjadi \textit{task error}, ini  terjadi karena \textit{user} pangkalan belum terbiasa dengan tampilan aplikasi pada saat mengambil gambar.
Aplikasi ini dirancang dan dibangun dan diuji untuk pertama kalinya, sehingga pasti memiliki kritik  yang diberikan saat proses \textit{usability testing} dilakukan. Berikut beberapa kritik yang diberikan oleh pengguna : \newline \newline
Kritik :
\begin{enumerate}
	\item Fitur untuk impor data penerimaan pasokan sekaligus via CSV untuk pengembangan selanjutnya.
	\item Fitur untuk melakukan pemblokiran pada pelanggan yang telah melewati batas pembelian untuk pengembangan selanjutnya.
	\item Tampilan pada saat mengambil gambar di \textit{improve} lagi, tapi untuk fitur-fitur dasarnya sudah cukup lumayan.
	\item UX harus di \textit{improve} lagi untuk mempercepat proses validasi pada proses pembelian tabung dikarenakan adanya antrian pada saat membeli tabung.
	
\end{enumerate}  
	
% Baris ini digunakan untuk membantu dalam melakukan sitasi.
% Karena diapit dengan comment, maka baris ini akan diabaikan
% oleh compiler LaTeX.
\begin{comment}
\bibliography{daftar-pustaka}
\end{comment}